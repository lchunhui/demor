---
title: "Table 1"
author: "Chun-Hui Lin"
date: "2024-10-20"
output:
  workflowr::wflow_html:
    toc: false
---

Some notes on generating Table 1 from the  [tbl_summary()](https://www.danieldsjoberg.com/gtsummary/articles/tbl_summary.html) tutorial, setup and detail of example data set are described in the link: 

* Some setups depend on personal preferences or data distributions. You can modify them based on your own data set.

* `tbl_summary()`

  * `by=` argument: summary statistics split by treatment group. 
  * `label=` argument: specify variables labels.
  * `statistic=` argument: specify **Mean (SD)** to display for age.
  * `digits=` argument: mean/median and SD/IQR round to 1 decimal place; n rounds to 0 decimal place and % rounds to 1 decimal place.
  * `missing_text=` argument: change default text for missing observations.

* `add_p()`

  * `test=` argument: specify **t-test** to perform for age.
  * `pvalue_fun=` argument: p-values round to 2 digits.

```{r, echo=FALSE}
# install.packages('gtsummary')
library(gtsummary)
```

```{r}
trial %>%
  tbl_summary(by = trt,
              label = age ~ 'Age (years)',
              statistic = age ~ '{mean} ({sd})',
              digits = list(all_continuous() ~ 1,
                            all_categorical() ~ c(0, 1)),
              missing_text = '(Missing)') %>%
  add_overall() %>% # add column with overall summary statistics
  add_p(test = age ~ 't.test', 
        pvalue_fun = ~ style_pvalue(.x, digits = 2)) %>% # add p-values
  modify_header(label ~ "") %>% # remove default header text
  bold_labels() # bold labels
```

